(self.webpackChunkautopage=self.webpackChunkautopage||[]).push([[129],{5129:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return p}});var n=o(4367),i=(o(1249),o(7941),o(1539),o(8309),o(4747),o(561),o(8862),o(6271)),a=o(3275),r=o(4549),s={name:"leftPage",props:{},data:function(){return{formTools:[{componentName:"Input",componentIcon:""},{componentName:"Select",componentIcon:""}],chartTools:[{componentName:"Sector",componentIcon:""},{componentName:"Histogram",componentIcon:""}],otherTools:[{componentName:"WangEdit",componentIcon:""}],moveItem:null,form:[]}},components:{Row:r.Row,Col:r.Col},methods:{debounceFun:function(t,e){(0,i.debounce)(t,e)},throttleFun:function(t,e){(0,i.throttle)(t,e)},drag:function(t,e,o){this.moveItem={name:t,type:e,index:o}},computedName:function(t){return this.chartTools.some((function(e){return e.componentName===t}))?"AutoSector":"Auto"+t},drop:function(t){var e,o,i,r,s,l=t.pageY,c=t.pageX;if("1"===(null===(e=this.moveItem)||void 0===e?void 0:e.type)||"2"===(null===(o=this.moveItem)||void 0===o?void 0:o.type)||"3"===(null===(i=this.moveItem)||void 0===i?void 0:i.type)){var m,p=this.moveItem,u=p.type,f=p.name;"1"===u&&(s=a.formSetting),"2"===u&&(s=a.chartSetting),"3"===u&&(s=a.OtherSetting),document.querySelectorAll(".formItem").forEach((function(t,e){var o=t.offsetTop,n=t.clientHeight,i=t.offsetLeft,a=t.clientWidth;o<=l&&o+n>l&&c>=i&&c<i+a?(o<=l&&l<o+.5*n&&(m=e),o+n>l&&l>=o+.5*n&&(m=e+1)):o<=l&&o+n>l&&c>=i+a&&(m=e+1)})),m>=0?this.form.splice(m,0,{name:f,type:this.getType(u),option:this.deepClone((0,n.Z)((0,n.Z)({},Array.isArray(s[this.moveItem.name])?s[this.moveItem.name][0]:s[this.moveItem.name]),{},{span:"1"===u?24:12})),key:(new Date).getTime()+m+""}):this.form.push({name:f,type:this.getType(u),option:this.deepClone((0,n.Z)((0,n.Z)({},Array.isArray(s[this.moveItem.name])?s[this.moveItem.name][0]:s[this.moveItem.name]),{},{span:"1"===u?24:12})),key:(new Date).getTime()+"-1"})}if("0"===(null===(r=this.moveItem)||void 0===r?void 0:r.type)){var h,d=0;document.querySelectorAll(".formItem").forEach((function(t,e){var o=t.offsetTop,n=t.clientHeight,i=t.offsetLeft,a=t.clientWidth;d++,o<=l&&l<o+n&&c>=i&&c<i+a?h=e:o<=l&&o+n>l&&c>=i+a&&(h=e+1)})),h=h>=0?h:d;var g=this.form[this.moveItem.index];this.form.splice(this.moveItem.index,1),this.moveItem.index>=h?this.form.splice(h,0,g):this.form.splice(h-1,0,g)}this.moveItem=null},settingOption:function(t,e){t?this.$emit("setting",{im:t,ix:e}):this.$emit("setting",null)},deepClone:function(t){return JSON.parse(JSON.stringify(t))},changeOption:function(t){this.form[t.ix]=t.im},optionCom:function(t,e,o){switch(t){case 0:this.up(e,-1);break;case 1:this.up(e,1);break;case 2:this.copy(e,o);break;case 3:this.delet(e)}},up:function(t,e){if(!(e<0&&0===t||e>0&&t===this.form.length-1)){var o=this.form[t+e];this.form.splice(t+e,1),this.form.splice(t,0,o)}},delet:function(t){this.form.splice(t,1)},copy:function(t,e){var o=JSON.parse(JSON.stringify(e));o.key=(new Date).getTime()+t+"",this.form.splice(t+1,0,o)},getType:function(t){var e="";switch(t){case"1":e="form";break;case"2":e="chart";break;case"3":e="other"}return e}},mounted:function(){},computed:{},watch:{}},l=o(1001),c=(0,l.Z)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"df main"},[o("div",{staticClass:"w200"},[o("h2",[t._v("表单组件")]),t._l(t.formTools,(function(e){return o("div",{key:e.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return t.drag(e.componentName,"1")}}},[t._v(" "+t._s(e.componentName)+" ")])})),o("h2",[t._v("图形组件")]),t._l(t.chartTools,(function(e){return o("div",{key:e.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return t.drag(e.componentName,"2")}}},[t._v(" "+t._s(e.componentName)+" ")])})),o("h2",[t._v("其他组件")]),t._l(t.otherTools,(function(e){return o("div",{key:e.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return t.drag(e.componentName,"3")}}},[t._v(" "+t._s(e.componentName)+" ")])}))],2),o("div",{staticClass:"view",on:{drop:t.drop,dragover:function(t){t.preventDefault()},click:function(e){return t.settingOption(null)}}},[o("Row",{attrs:{gutter:20}},t._l(t.form,(function(e,n){return o("Col",{key:e.key,attrs:{span:Number(e.option.span)}},[o("AutoTool",{on:{option:function(o){return t.optionCom(o,n,e)}}}),o("div",{staticClass:"formItem",attrs:{draggable:""},on:{dragstart:function(o){return t.drag(e.componentName,"0",n)},click:function(o){return o.stopPropagation(),t.settingOption(e,n)}}},[o(t.computedName(e.name),{tag:"component",on:{blur:function(o){return t.settingOption(e,n)}},model:{value:e.option,callback:function(o){t.$set(e,"option",o)},expression:"im.option"}})],1)],1)})),1)],1)])}),[],!1,null,"0702e542",null).exports,m={name:"autoForm",props:{},data:function(){return{settingItem:null,options:[],chart:["row"],drawer:!1,type:"form",direction:"rtl"}},components:{LeftTool:c},methods:{getSetting:function(t){var e=this;t?(this.options=[],this.settingItem=t,this.type=t.im.type,"form"===this.type&&Object.keys(t.im.option).map((function(o){var i=function(t){var e;switch(t){case"span":e={type:"Input",title:"宽度"};break;case"placeholder":e={type:"Input",title:"提示语"};break;case"title":e={type:"Input",title:"标题"};break;case"value":e={type:"Input",title:"值"}}return e?(0,n.Z)((0,n.Z)({},e),{},{key:t}):e}(o);i&&e.options.push((0,n.Z)((0,n.Z)({},i),{},{option:{value:t.im.option[o]}}))}))):(this.settingItem=null,this.type="form")},blur:function(){var t=this.settingItem;this.options.map((function(e){var o=e.option,n=e.key;t.im.option[n]=o.value})),this.$refs.left.changeOption(t)},update:function(t){t&&(this.settingItem.im.option=t,this.$refs.left.changeOption(this.settingItem))},open:function(t){"form"!==this.type&&(this.drawer=t,t||this.update(this.$refs.chart.jsonUpdate()))}},mounted:function(){},computed:{},watch:{}},p=(0,l.Z)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"df"},[o("LeftTool",{ref:"left",on:{setting:t.getSetting}}),t.drawer&&t.settingItem?o("div",{staticStyle:{width:"60%",height:"100%",position:"fixed"},on:{click:function(e){return t.open(!1)}}}):t._e(),o("div",{staticClass:"rightTool",class:{openRight:t.drawer},on:{click:function(e){return t.open(!0)}}},[t.settingItem&&"form"==t.type?o("el-form",{attrs:{model:t.settingItem.im.option}},t._l(t.options,(function(e){return o("el-form-item",{key:e.key,attrs:{label:e.title}},[o("Auto"+e.type,{tag:"component",on:{blur:t.blur},model:{value:e.option,callback:function(o){t.$set(e,"option",o)},expression:"im.option"}})],1)})),1):t._e(),t.settingItem&&"chart"===t.type?o("div",[o("ChartSetting",{ref:"chart",model:{value:t.settingItem.im.option,callback:function(e){t.$set(t.settingItem.im,"option",e)},expression:"settingItem.im.option"}})],1):t._e(),t.settingItem&&"other"===t.type?o("div",[o(t.settingItem.im.name,{tag:"component",on:{blur:t.blur},model:{value:t.settingItem.im.option,callback:function(e){t.$set(t.settingItem.im,"option",e)},expression:"settingItem.im.option"}})],1):t._e()],1)],1)}),[],!1,null,"de099f96",null).exports},3275:function(t,e,o){o(8309);var n=o(8522),i={Sector:[{title:{text:"Referer of a Website",subtext:"Fake Data",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"Access From",type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},{tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}]}],Histogram:[{color:["#80FFA5","#00DDFF","#37A2FF","#FF0087","#FFBF00"],title:{text:"Gradient Stacked Area Chart"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Line 1","Line 2","Line 3","Line 4","Line 5"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}],yAxis:[{type:"value"}],series:[{name:"Line 1",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(128, 255, 165)"},{offset:1,color:"rgb(1, 191, 236)"}])},emphasis:{focus:"series"},data:[140,232,101,264,90,340,250]},{name:"Line 2",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(0, 221, 255)"},{offset:1,color:"rgb(77, 119, 255)"}])},emphasis:{focus:"series"},data:[120,282,111,234,220,340,310]},{name:"Line 3",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(55, 162, 255)"},{offset:1,color:"rgb(116, 21, 219)"}])},emphasis:{focus:"series"},data:[320,132,201,334,190,130,220]},{name:"Line 4",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 0, 135)"},{offset:1,color:"rgb(135, 0, 157)"}])},emphasis:{focus:"series"},data:[220,402,231,134,190,230,120]},{name:"Line 5",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,label:{show:!0,position:"top"},areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 191, 0)"},{offset:1,color:"rgb(224, 62, 76)"}])},emphasis:{focus:"series"},data:[220,302,181,234,210,290,150]}]},{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110,130],type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]},{title:{text:"Waterfall Chart",subtext:"Living Expenses in Shenzhen"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var e=t[1];return e.name+"<br/>"+e.seriesName+" : "+e.value}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},data:["Total","Rent","Utilities","Transportation","Meals","Other"]},yAxis:{type:"value"},series:[{name:"Placeholder",type:"bar",stack:"Total",itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:[0,1700,1400,1200,300,0]},{name:"Life Cost",type:"bar",stack:"Total",label:{show:!0,position:"inside"},data:[2900,1200,300,200,900,300]}]}]};t.exports={formSetting:{Input:{type:"text",placeholder:"请输入",value:"",debounce:300,prepend:{type:"string",value:""},append:{type:"string",value:""}},Select:{value:"",placeholder:"请选择"}},chartSetting:i,OtherSetting:{WangEdit:{value:"",placeholder:""}}}}}]);