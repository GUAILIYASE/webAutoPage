(self["webpackChunkvue_demo"]=self["webpackChunkvue_demo"]||[]).push([[65],{1537:function(e){const t={Input:{type:"text",placeholder:"请输入",value:"",debounce:300,prepend:{type:"string",value:""},append:{type:"string",value:""}},Select:{value:"",placeholder:"请选择"}},o={Sector:[{title:{text:"Referer of a Website",subtext:"Fake Data",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"Access From",type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},{tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}]}],Histogram:[{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110,130],type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]},{title:{text:"Waterfall Chart",subtext:"Living Expenses in Shenzhen"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[1];return t.name+"<br/>"+t.seriesName+" : "+t.value}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},data:["Total","Rent","Utilities","Transportation","Meals","Other"]},yAxis:{type:"value"},series:[{name:"Placeholder",type:"bar",stack:"Total",itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:[0,1700,1400,1200,300,0]},{name:"Life Cost",type:"bar",stack:"Total",label:{show:!0,position:"inside"},data:[2900,1200,300,200,900,300]}]}]};e.exports={formSetting:t,chartSetting:o}},9065:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return b}});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"df"},[o("LeftTool",{ref:"left",on:{setting:e.getSetting}}),o("div",{staticClass:"rightTool"},[e.settingItem&&"form"==e.settingItem.im.type?o("el-form",{attrs:{model:e.settingItem.im.option}},e._l(e.options,(function(t){return o("el-form-item",{key:t.key,attrs:{label:t.title}},[o("Auto"+t.type,{tag:"component",on:{blur:e.blur},model:{value:t.option,callback:function(o){e.$set(t,"option",o)},expression:"im.option"}})],1)})),1):e._e(),e.settingItem&&"chart"===e.settingItem.im.type?o("el-form",{attrs:{model:e.settingItem.im.option}},[o("el-form-item",[o("ChartSetting",{on:{update:e.update},model:{value:e.settingItem.im.option,callback:function(t){e.$set(e.settingItem.im,"option",t)},expression:"settingItem.im.option"}})],1)],1):e._e()],1)],1)},i=[],a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"df main"},[o("div",{staticClass:"w200"},[o("h2",[e._v("表单组件")]),e._l(e.formTools,(function(t){return o("div",{key:t.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"1")}}},[e._v(" "+e._s(t.componentName)+" ")])})),o("h2",[e._v("图形组件")]),e._l(e.chartTools,(function(t){return o("div",{key:t.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"2")}}},[e._v(" "+e._s(t.componentName)+" ")])}))],2),o("div",{staticClass:"view",on:{drop:e.drop,dragover:function(e){e.preventDefault()}}},[o("Row",{attrs:{gutter:20}},e._l(e.form,(function(t,n){return o("Col",{key:t.key,attrs:{span:Number(t.option.span)}},[o("div",{staticClass:"formItem",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"0",n)},click:function(o){return e.settingOption(t,n)}}},[o(e.computedName(t.name),{tag:"component",on:{blur:function(o){return e.settingOption(t,n)}},model:{value:t.option,callback:function(o){e.$set(t,"option",o)},expression:"im.option"}})],1)])})),1)],1)])},r=[],s=o(1882),m=o(1537),l=o(8927),p={name:"leftPage",props:{},data(){return{formTools:[{componentName:"Input",componentIcon:""},{componentName:"Select",componentIcon:""}],chartTools:[{componentName:"Sector",componentIcon:""},{componentName:"Histogram",componentIcon:""}],moveItem:null,form:[]}},components:{Row:l.Row,Col:l.Col},methods:{debounceFun(e,t){(0,s.debounce)(e,t)},throttleFun(e,t){(0,s.throttle)(e,t)},drag(e,t,o){this.moveItem={name:e,type:t,index:o}},computedName(e){return this.chartTools.some((t=>t.componentName===e))?"AutoSector":"Auto"+e},drop(e){const{pageY:t,pageX:o}=e;let n;if("1"===this.moveItem?.type||"2"===this.moveItem?.type){const{type:e,name:i}=this.moveItem;let a;n="1"===e?m.formSetting:m.chartSetting,document.querySelectorAll(".formItem").forEach(((e,n)=>{const{offsetTop:i,clientHeight:r,offsetLeft:s,clientWidth:m}=e;i<=t&&i+r>t&&o>=s&&o<s+m?(i<=t&&t<i+.5*r&&(a=n),i+r>t&&t>=i+.5*r&&(a=n+1)):i<=t&&i+r>t&&o>=s+m&&(a=n+1)})),a>=0?this.form.splice(a,0,{name:i,type:"1"===e?"form":"chart",option:this.deepClone({...Array.isArray(n[this.moveItem.name])?n[this.moveItem.name][0]:n[this.moveItem.name],span:"1"===e?24:12}),key:(new Date).getTime()+a+""}):this.form.push({name:i,type:"1"===e?"form":"chart",option:this.deepClone({...Array.isArray(n[this.moveItem.name])?n[this.moveItem.name][0]:n[this.moveItem.name],span:"1"===e?24:12}),key:(new Date).getTime()+"-1"})}if("0"===this.moveItem?.type){let e,n=0;document.querySelectorAll(".formItem").forEach(((i,a)=>{const{offsetTop:r,clientHeight:s,offsetLeft:m,clientWidth:l}=i;n++,r<=t&&t<r+s&&o>=m&&o<m+l?e=a:r<=t&&r+s>t&&o>=m+l&&(e=a+1)})),e=e>=0?e:n;const i=this.form[this.moveItem.index];this.form.splice(this.moveItem.index,1),this.moveItem.index>=e?this.form.splice(e,0,i):this.form.splice(e-1,0,i)}this.moveItem=null},settingOption(e,t){this.$emit("setting",{im:e,ix:t})},deepClone(e){return JSON.parse(JSON.stringify(e))},changeOption(e){this.form[e.ix]=e.im}},mounted(){},computed:{},watch:{}},c=p,u=o(5471),d=(0,u.Z)(c,a,r,!1,null,"68667e72",null),h=d.exports,f=e=>{let t;switch(e){case"span":t={type:"Input",title:"宽度"};break;case"placeholder":t={type:"Input",title:"提示语"};break;case"title":t={type:"Input",title:"标题"};break;case"value":t={type:"Input",title:"值"};break;default:break}return t?{...t,key:e}:t},g={name:"autoForm",props:{},data(){return{settingItem:null,options:[],chart:["row"]}},components:{LeftTool:h},methods:{getSetting(e){this.options=[],this.settingItem=e,Object.keys(e.im.option).map((t=>{let o=f(t);o&&this.options.push({...o,option:{value:e.im.option[t]}})}))},blur(){const{settingItem:e,options:t}=this;t.map((t=>{const{option:o,key:n}=t;e.im.option[n]=o.value})),this.$refs.left.changeOption(e)},update(e){this.settingItem.im.option=e,this.$refs.left.changeOption(this.settingItem)}},mounted(){},computed:{},watch:{}},v=g,y=(0,u.Z)(v,n,i,!1,null,"44b4777b",null),b=y.exports}}]);
//# sourceMappingURL=65.0c274594.js.map