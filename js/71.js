(self.webpackChunkautopage=self.webpackChunkautopage||[]).push([[71],{2071:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return c}});var o=t(6271),i=t(3275),a=t(4549),r={name:"leftPage",props:{},data:()=>({formTools:[{componentName:"Input",componentIcon:""},{componentName:"Select",componentIcon:""}],chartTools:[{componentName:"Sector",componentIcon:""},{componentName:"Histogram",componentIcon:""}],otherTools:[{componentName:"WangEdit",componentIcon:""}],moveItem:null,form:[]}),components:{Row:a.Row,Col:a.Col},methods:{debounceFun(n,e){(0,o.debounce)(n,e)},throttleFun(n,e){(0,o.throttle)(n,e)},drag(n,e,t){this.moveItem={name:n,type:e,index:t}},computedName(n){return this.chartTools.some((e=>e.componentName===n))?"AutoSector":"Auto"+n},drop(n){const{pageY:e,pageX:t}=n;let o;if("1"===this.moveItem?.type||"2"===this.moveItem?.type||"3"===this.moveItem?.type){const{type:n,name:a}=this.moveItem;let r;"1"===n&&(o=i.formSetting),"2"===n&&(o=i.chartSetting),"3"===n&&(o=i.OtherSetting),document.querySelectorAll(".col").forEach(((n,o)=>{const{offsetTop:i,clientHeight:a,offsetLeft:s,clientWidth:l}=n;i<=e&&i+a>e&&t>=s&&t<s+l?(i<=e&&e<i+.5*a&&(r=o),i+a>e&&e>=i+.5*a&&(r=o+1)):i<=e&&i+a>e&&t>=s+l&&(r=o+1)})),r>=0?this.form.splice(r,0,{name:a,type:this.getType(n),option:this.deepClone({...!Array.isArray(o[this.moveItem.name])&&o[this.moveItem.name],code:Array.isArray(o[this.moveItem.name])&&o[this.moveItem.name][0],span:"3"===n?24:12}),key:(new Date).getTime()+r+""}):this.form.push({name:a,type:this.getType(n),option:this.deepClone({...!Array.isArray(o[this.moveItem.name])&&o[this.moveItem.name],code:Array.isArray(o[this.moveItem.name])&&o[this.moveItem.name][0],span:"3"===n?24:12}),key:(new Date).getTime()+"-1"})}if("0"===this.moveItem?.type){let n,o=0;document.querySelectorAll(".formItem").forEach(((i,a)=>{const{offsetTop:r,clientHeight:s,offsetLeft:l,clientWidth:m}=i;o++,r<=e&&e<r+s&&t>=l&&t<l+m?n=a:r<=e&&r+s>e&&t>=l+m&&(n=a+1)})),n=n>=0?n:o;const i=this.form[this.moveItem.index];this.form.splice(this.moveItem.index,1),this.moveItem.index>=n?this.form.splice(n,0,i):this.form.splice(n-1,0,i)}this.moveItem=null},settingOption(n,e){n?this.$emit("setting",{im:n,ix:e}):this.$emit("setting",null)},deepClone:n=>JSON.parse(JSON.stringify(n)),changeOption(n){this.form[n.ix]=n.im},optionCom(n,e,t){switch(n){case 0:this.up(e,-1);break;case 1:this.up(e,1);break;case 2:this.copy(e,t);break;case 3:this.delet(e)}},up(n,e){if(e<0&&0===n||e>0&&n===this.form.length-1)return;let t=this.form[n+e];this.form.splice(n+e,1),this.form.splice(n,0,t)},delet(n){this.form.splice(n,1)},copy(n,e){let t=JSON.parse(JSON.stringify(e));t.key=(new Date).getTime()+n+"",this.form.splice(n+1,0,t)},getType(n){let e="";switch(n){case"1":e="form";break;case"2":e="chart";break;case"3":e="other"}return e}},mounted(){},computed:{},watch:{}},s=t(1001),l=(0,s.Z)(r,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"df main"},[t("div",{staticClass:"w200"},[t("h2",[n._v("表单组件")]),n._l(n.formTools,(function(e){return t("div",{key:e.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(t){return n.drag(e.componentName,"1")}}},[n._v(" "+n._s(e.componentName)+" ")])})),t("h2",[n._v("图形组件")]),n._l(n.chartTools,(function(e){return t("div",{key:e.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(t){return n.drag(e.componentName,"2")}}},[n._v(" "+n._s(e.componentName)+" ")])})),t("h2",[n._v("其他组件")]),n._l(n.otherTools,(function(e){return t("div",{key:e.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(t){return n.drag(e.componentName,"3")}}},[n._v(" "+n._s(e.componentName)+" ")])}))],2),t("div",{staticClass:"view",on:{drop:n.drop,dragover:function(n){n.preventDefault()},click:function(e){return n.settingOption(null)}}},[t("Row",{attrs:{gutter:20}},n._l(n.form,(function(e,o){return t("Col",{key:e.key,staticClass:"col",attrs:{span:Number(e.option.span)}},[t("AutoTool",{on:{option:function(t){return n.optionCom(t,o,e)},handelClick:function(t){return n.settingOption(e,o)}}}),t("div",{staticClass:"formItem",attrs:{draggable:""},on:{dragstart:function(t){return n.drag(e.componentName,"0",o)},click:function(t){return t.stopPropagation(),n.settingOption(e,o)}}},[t(n.computedName(e.name),{tag:"component",on:{blur:function(t){return n.settingOption(e,o)}},model:{value:e.option,callback:function(t){n.$set(e,"option",t)},expression:"im.option"}})],1)],1)})),1)],1)])}),[],!1,null,"0086309c",null).exports,m={name:"autoForm",props:{},data:()=>({settingItem:null,options:[],chart:["row"],drawer:!1,type:"form",direction:"rtl"}),components:{LeftTool:l},methods:{getSetting(n){n?(this.options=[],this.settingItem=n,this.type=n.im.type,"form"===this.type&&Object.keys(n.im.option).map((e=>{let t=(n=>{let e;switch(n){case"span":e={type:"Input",title:"宽度"};break;case"placeholder":e={type:"Input",title:"提示语"};break;case"title":e={type:"Input",title:"标题"};break;case"value":e={type:"Input",title:"值"}}return e?{...e,key:n}:e})(e);t&&this.options.push({...t,option:{value:n.im.option[e]}})}))):(this.settingItem=null,this.type="form")},blur(){const{settingItem:n,options:e}=this;e.map((e=>{const{option:t,key:o}=e;n.im.option[o]=t.value})),this.$refs.left.changeOption(n)},update(n){n&&(this.settingItem.im.option=n,this.$refs.left.changeOption(this.settingItem))},open(n){"form"!==this.type&&(this.drawer=n,n||this.update(this.$refs[this.settingItem.im.name].jsonUpdate()))}},mounted(){},computed:{},watch:{}},c=(0,s.Z)(m,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"df"},[t("LeftTool",{ref:"left",on:{setting:n.getSetting}}),n.drawer&&n.settingItem?t("div",{staticStyle:{width:"60%",height:"100%",position:"fixed"},on:{click:function(e){return n.open(!1)}}}):n._e(),t("div",{staticClass:"rightTool",class:{openRight:n.drawer},on:{click:function(e){return n.open(!0)}}},[n.settingItem&&"form"==n.type?t("el-form",{attrs:{model:n.settingItem.im.option}},n._l(n.options,(function(e){return t("el-form-item",{key:e.key,attrs:{label:e.title}},[t("Auto"+e.type,{tag:"component",on:{blur:n.blur},model:{value:e.option,callback:function(t){n.$set(e,"option",t)},expression:"im.option"}})],1)})),1):n._e(),n.settingItem&&"chart"===n.type?t("div",[t("ChartSetting",{ref:n.settingItem.im.name,model:{value:n.settingItem.im.option,callback:function(e){n.$set(n.settingItem.im,"option",e)},expression:"settingItem.im.option"}})],1):n._e(),n.settingItem&&"other"===n.type?t("div",[t(n.settingItem.im.name,{ref:n.settingItem.im.name,tag:"component",attrs:{open:n.drawer},on:{blur:n.blur},model:{value:n.settingItem.im.option,callback:function(e){n.$set(n.settingItem.im,"option",e)},expression:"settingItem.im.option"}})],1):n._e()],1)],1)}),[],!1,null,"a1a94198",null).exports},3275:function(n,e,t){t(8522);const o={Sector:["option= {\n      title: {\n        text: 'Referer of a Website',\n        subtext: 'Fake Data',\n        left: 'center'\n      },\n      tooltip: {\n        trigger: 'item'\n      },\n      legend: {\n        orient: 'vertical',\n        left: 'left'\n      },\n      series: [\n        {\n          name: 'Access From',\n          type: 'pie',\n          radius: '50%',\n          data: [\n            { value: 1048, name: 'Search Engine' },\n            { value: 735, name: 'Direct' },\n            { value: 580, name: 'Email' },\n            { value: 484, name: 'Union Ads' },\n            { value: 300, name: 'Video Ads' }\n          ],\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }\n      ]\n\n    };","option={\n      tooltip: {\n        trigger: 'item'\n      },\n      legend: {\n        top: '5%',\n        left: 'center'\n      },\n      series: [\n        {\n          name: 'Access From',\n          type: 'pie',\n          radius: ['40%', '70%'],\n          avoidLabelOverlap: false,\n          itemStyle: {\n            borderRadius: 10,\n            borderColor: '#fff',\n            borderWidth: 2\n          },\n          label: {\n            show: false,\n            position: 'center'\n          },\n          emphasis: {\n            label: {\n              show: true,\n              fontSize: '40',\n              fontWeight: 'bold'\n            }\n          },\n          labelLine: {\n            show: false\n          },\n          data: [\n            { value: 1048, name: 'Search Engine' },\n            { value: 735, name: 'Direct' },\n            { value: 580, name: 'Email' },\n            { value: 484, name: 'Union Ads' },\n            { value: 300, name: 'Video Ads' }\n          ]\n        }\n      ]\n    };"],Histogram:["option=  {\n      color: ['#80FFA5', '#00DDFF', '#37A2FF', '#FF0087', '#FFBF00'],\n      title: {\n        text: 'Gradient Stacked Area Chart',\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n          type: 'cross',\n          label: {\n            backgroundColor: '#6a7985',\n          },\n        },\n      },\n      legend: {\n        data: ['Line 1', 'Line 2', 'Line 3', 'Line 4', 'Line 5'],\n      },\n      toolbox: {\n        feature: {\n          saveAsImage: {},\n        },\n      },\n      grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true,\n      },\n      xAxis: [\n        {\n          type: 'category',\n          boundaryGap: false,\n          data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        },\n      ],\n      yAxis: [\n        {\n          type: 'value',\n        },\n      ],\n      series: [\n        {\n          name: 'Line 1',\n          type: 'line',\n          stack: 'Total',\n          smooth: true,\n          lineStyle: {\n            width: 0,\n          },\n          showSymbol: false,\n          areaStyle: {\n            opacity: 0.8,\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n              {\n                offset: 0,\n                color: 'rgb(128, 255, 165)',\n              },\n              {\n                offset: 1,\n                color: 'rgb(1, 191, 236)',\n              },\n            ]),\n          },\n          emphasis: {\n            focus: 'series',\n          },\n          data: [140, 232, 101, 264, 90, 340, 250],\n        },\n        {\n          name: 'Line 2',\n          type: 'line',\n          stack: 'Total',\n          smooth: true,\n          lineStyle: {\n            width: 0,\n          },\n          showSymbol: false,\n          areaStyle: {\n            opacity: 0.8,\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n              {\n                offset: 0,\n                color: 'rgb(0, 221, 255)',\n              },\n              {\n                offset: 1,\n                color: 'rgb(77, 119, 255)',\n              },\n            ]),\n          },\n          emphasis: {\n            focus: 'series',\n          },\n          data: [120, 282, 111, 234, 220, 340, 310],\n        },\n        {\n          name: 'Line 3',\n          type: 'line',\n          stack: 'Total',\n          smooth: true,\n          lineStyle: {\n            width: 0,\n          },\n          showSymbol: false,\n          areaStyle: {\n            opacity: 0.8,\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n              {\n                offset: 0,\n                color: 'rgb(55, 162, 255)',\n              },\n              {\n                offset: 1,\n                color: 'rgb(116, 21, 219)',\n              },\n            ]),\n          },\n          emphasis: {\n            focus: 'series',\n          },\n          data: [320, 132, 201, 334, 190, 130, 220],\n        },\n        {\n          name: 'Line 4',\n          type: 'line',\n          stack: 'Total',\n          smooth: true,\n          lineStyle: {\n            width: 0,\n          },\n          showSymbol: false,\n          areaStyle: {\n            opacity: 0.8,\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n              {\n                offset: 0,\n                color: 'rgb(255, 0, 135)',\n              },\n              {\n                offset: 1,\n                color: 'rgb(135, 0, 157)',\n              },\n            ]),\n          },\n          emphasis: {\n            focus: 'series',\n          },\n          data: [220, 402, 231, 134, 190, 230, 120],\n        },\n        {\n          name: 'Line 5',\n          type: 'line',\n          stack: 'Total',\n          smooth: true,\n          lineStyle: {\n            width: 0,\n          },\n          showSymbol: false,\n          label: {\n            show: true,\n            position: 'top',\n          },\n          areaStyle: {\n            opacity: 0.8,\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n              {\n                offset: 0,\n                color: 'rgb(255, 191, 0)',\n              },\n              {\n                offset: 1,\n                color: 'rgb(224, 62, 76)',\n              },\n            ]),\n          },\n          emphasis: {\n            focus: 'series',\n          },\n          data: [220, 302, 181, 234, 210, 290, 150],\n        },\n      ],\n    };","option= {\n      xAxis: {\n        type: 'category',\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n      },\n      yAxis: {\n        type: 'value'\n      },\n      series: [\n        {\n          data: [120, 200, 150, 80, 70, 110, 130],\n          type: 'bar',\n          showBackground: true,\n          backgroundStyle: {\n            color: 'rgba(180, 180, 180, 0.2)'\n          }\n        }\n      ]\n    };","option=  {\n      title: {\n        text: 'Waterfall Chart',\n        subtext: 'Living Expenses in Shenzhen'\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n          type: 'shadow'\n        },\n        formatter: function (params) {\n          var tar = params[1];\n          return tar.name + '<br/>' + tar.seriesName + ' : ' + tar.value;\n        }\n      },\n      grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n      },\n      xAxis: {\n        type: 'category',\n        splitLine: { show: false },\n        data: ['Total', 'Rent', 'Utilities', 'Transportation', 'Meals', 'Other']\n      },\n      yAxis: {\n        type: 'value'\n      },\n      series: [\n        {\n          name: 'Placeholder',\n          type: 'bar',\n          stack: 'Total',\n          itemStyle: {\n            borderColor: 'transparent',\n            color: 'transparent'\n          },\n          emphasis: {\n            itemStyle: {\n              borderColor: 'transparent',\n              color: 'transparent'\n            }\n          },\n          data: [0, 1700, 1400, 1200, 300, 0]\n        },\n        {\n          name: 'Life Cost',\n          type: 'bar',\n          stack: 'Total',\n          label: {\n            show: true,\n            position: 'inside'\n          },\n          data: [2900, 1200, 300, 200, 900, 300]\n        }\n      ]\n    };"]};n.exports={formSetting:{Input:{type:"text",placeholder:"请输入",value:"",debounce:300,prepend:{type:"string",value:""},append:{type:"string",value:""}},Select:{value:"",placeholder:"请选择"}},chartSetting:o,OtherSetting:{WangEdit:{value:"<p>请编辑</p>",placeholder:"请编辑"}}}}}]);