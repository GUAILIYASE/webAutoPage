(self.webpackChunkautopage=self.webpackChunkautopage||[]).push([[201],{3201:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return c}});var n=o(6271),i=o(3275),a=o(4549),s={name:"leftPage",props:{},data:()=>({formTools:[{componentName:"Input",componentIcon:""},{componentName:"Select",componentIcon:""}],chartTools:[{componentName:"Sector",componentIcon:""},{componentName:"Histogram",componentIcon:""}],otherTools:[{componentName:"WangEdit",componentIcon:""}],moveItem:null,form:[]}),components:{Row:a.Row,Col:a.Col},methods:{debounceFun(e,t){(0,n.debounce)(e,t)},throttleFun(e,t){(0,n.throttle)(e,t)},drag(e,t,o){this.moveItem={name:e,type:t,index:o}},computedName(e){return this.chartTools.some((t=>t.componentName===e))?"AutoSector":"Auto"+e},drop(e){const{pageY:t,pageX:o}=e;let n;if("1"===this.moveItem?.type||"2"===this.moveItem?.type||"3"===this.moveItem?.type){const{type:e,name:a}=this.moveItem;let s;"1"===e&&(n=i.formSetting),"2"===e&&(n=i.chartSetting),"3"===e&&(n=i.OtherSetting),document.querySelectorAll(".col").forEach(((e,n)=>{const{offsetTop:i,clientHeight:a,offsetLeft:r,clientWidth:l}=e;i<=t&&i+a>t&&o>=r&&o<r+l?(i<=t&&t<i+.5*a&&(s=n),i+a>t&&t>=i+.5*a&&(s=n+1)):i<=t&&i+a>t&&o>=r+l&&(s=n+1)})),s>=0?this.form.splice(s,0,{name:a,type:this.getType(e),option:this.deepClone({...Array.isArray(n[this.moveItem.name])?n[this.moveItem.name][0]:n[this.moveItem.name],span:"3"===e?24:12}),key:(new Date).getTime()+s+""}):this.form.push({name:a,type:this.getType(e),option:this.deepClone({...Array.isArray(n[this.moveItem.name])?n[this.moveItem.name][0]:n[this.moveItem.name],span:"3"===e?24:12}),key:(new Date).getTime()+"-1"})}if("0"===this.moveItem?.type){let e,n=0;document.querySelectorAll(".formItem").forEach(((i,a)=>{const{offsetTop:s,clientHeight:r,offsetLeft:l,clientWidth:m}=i;n++,s<=t&&t<s+r&&o>=l&&o<l+m?e=a:s<=t&&s+r>t&&o>=l+m&&(e=a+1)})),e=e>=0?e:n;const i=this.form[this.moveItem.index];this.form.splice(this.moveItem.index,1),this.moveItem.index>=e?this.form.splice(e,0,i):this.form.splice(e-1,0,i)}this.moveItem=null},settingOption(e,t){e?this.$emit("setting",{im:e,ix:t}):this.$emit("setting",null)},deepClone:e=>JSON.parse(JSON.stringify(e)),changeOption(e){this.form[e.ix]=e.im},optionCom(e,t,o){switch(e){case 0:this.up(t,-1);break;case 1:this.up(t,1);break;case 2:this.copy(t,o);break;case 3:this.delet(t)}},up(e,t){if(t<0&&0===e||t>0&&e===this.form.length-1)return;let o=this.form[e+t];this.form.splice(e+t,1),this.form.splice(e,0,o)},delet(e){this.form.splice(e,1)},copy(e,t){let o=JSON.parse(JSON.stringify(t));o.key=(new Date).getTime()+e+"",this.form.splice(e+1,0,o)},getType(e){let t="";switch(e){case"1":t="form";break;case"2":t="chart";break;case"3":t="other"}return t}},mounted(){},computed:{},watch:{}},r=o(1001),l=(0,r.Z)(s,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"df main"},[o("div",{staticClass:"w200"},[o("h2",[e._v("表单组件")]),e._l(e.formTools,(function(t){return o("div",{key:t.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"1")}}},[e._v(" "+e._s(t.componentName)+" ")])})),o("h2",[e._v("图形组件")]),e._l(e.chartTools,(function(t){return o("div",{key:t.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"2")}}},[e._v(" "+e._s(t.componentName)+" ")])})),o("h2",[e._v("其他组件")]),e._l(e.otherTools,(function(t){return o("div",{key:t.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"3")}}},[e._v(" "+e._s(t.componentName)+" ")])}))],2),o("div",{staticClass:"view",on:{drop:e.drop,dragover:function(e){e.preventDefault()},click:function(t){return e.settingOption(null)}}},[o("Row",{attrs:{gutter:20}},e._l(e.form,(function(t,n){return o("Col",{key:t.key,staticClass:"col",attrs:{span:Number(t.option.span)}},[o("AutoTool",{on:{option:function(o){return e.optionCom(o,n,t)},handelClick:function(o){return e.settingOption(t,n)}}}),o("div",{staticClass:"formItem",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"0",n)},click:function(o){return o.stopPropagation(),e.settingOption(t,n)}}},[o(e.computedName(t.name),{tag:"component",on:{blur:function(o){return e.settingOption(t,n)}},model:{value:t.option,callback:function(o){e.$set(t,"option",o)},expression:"im.option"}})],1)],1)})),1)],1)])}),[],!1,null,"75512c1d",null).exports,m={name:"autoForm",props:{},data:()=>({settingItem:null,options:[],chart:["row"],drawer:!1,type:"form",direction:"rtl"}),components:{LeftTool:l},methods:{getSetting(e){e?(this.options=[],this.settingItem=e,this.type=e.im.type,"form"===this.type&&Object.keys(e.im.option).map((t=>{let o=(e=>{let t;switch(e){case"span":t={type:"Input",title:"宽度"};break;case"placeholder":t={type:"Input",title:"提示语"};break;case"title":t={type:"Input",title:"标题"};break;case"value":t={type:"Input",title:"值"}}return t?{...t,key:e}:t})(t);o&&this.options.push({...o,option:{value:e.im.option[t]}})}))):(this.settingItem=null,this.type="form")},blur(){const{settingItem:e,options:t}=this;t.map((t=>{const{option:o,key:n}=t;e.im.option[n]=o.value})),this.$refs.left.changeOption(e)},update(e){e&&(this.settingItem.im.option=e,this.$refs.left.changeOption(this.settingItem))},open(e){"form"!==this.type&&(this.drawer=e,e||this.update(this.$refs[this.settingItem.im.name].jsonUpdate()))}},mounted(){},computed:{},watch:{}},c=(0,r.Z)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"df"},[o("LeftTool",{ref:"left",on:{setting:e.getSetting}}),e.drawer&&e.settingItem?o("div",{staticStyle:{width:"60%",height:"100%",position:"fixed"},on:{click:function(t){return e.open(!1)}}}):e._e(),o("div",{staticClass:"rightTool",class:{openRight:e.drawer},on:{click:function(t){return e.open(!0)}}},[e.settingItem&&"form"==e.type?o("el-form",{attrs:{model:e.settingItem.im.option}},e._l(e.options,(function(t){return o("el-form-item",{key:t.key,attrs:{label:t.title}},[o("Auto"+t.type,{tag:"component",on:{blur:e.blur},model:{value:t.option,callback:function(o){e.$set(t,"option",o)},expression:"im.option"}})],1)})),1):e._e(),e.settingItem&&"chart"===e.type?o("div",[o("ChartSetting",{ref:e.settingItem.im.name,model:{value:e.settingItem.im.option,callback:function(t){e.$set(e.settingItem.im,"option",t)},expression:"settingItem.im.option"}})],1):e._e(),e.settingItem&&"other"===e.type?o("div",[o(e.settingItem.im.name,{ref:e.settingItem.im.name,tag:"component",attrs:{open:e.drawer},on:{blur:e.blur},model:{value:e.settingItem.im.option,callback:function(t){e.$set(e.settingItem.im,"option",t)},expression:"settingItem.im.option"}})],1):e._e()],1)],1)}),[],!1,null,"1111adc7",null).exports},3275:function(e,t,o){const n=o(8522),i={Sector:[{title:{text:"Referer of a Website",subtext:"Fake Data",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"Access From",type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},{tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}]}],Histogram:[{color:["#80FFA5","#00DDFF","#37A2FF","#FF0087","#FFBF00"],title:{text:"Gradient Stacked Area Chart"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Line 1","Line 2","Line 3","Line 4","Line 5"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}],yAxis:[{type:"value"}],series:[{name:"Line 1",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(128, 255, 165)"},{offset:1,color:"rgb(1, 191, 236)"}])},emphasis:{focus:"series"},data:[140,232,101,264,90,340,250]},{name:"Line 2",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(0, 221, 255)"},{offset:1,color:"rgb(77, 119, 255)"}])},emphasis:{focus:"series"},data:[120,282,111,234,220,340,310]},{name:"Line 3",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(55, 162, 255)"},{offset:1,color:"rgb(116, 21, 219)"}])},emphasis:{focus:"series"},data:[320,132,201,334,190,130,220]},{name:"Line 4",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 0, 135)"},{offset:1,color:"rgb(135, 0, 157)"}])},emphasis:{focus:"series"},data:[220,402,231,134,190,230,120]},{name:"Line 5",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,label:{show:!0,position:"top"},areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 191, 0)"},{offset:1,color:"rgb(224, 62, 76)"}])},emphasis:{focus:"series"},data:[220,302,181,234,210,290,150]}]},{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110,130],type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]},{title:{text:"Waterfall Chart",subtext:"Living Expenses in Shenzhen"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[1];return t.name+"<br/>"+t.seriesName+" : "+t.value}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},data:["Total","Rent","Utilities","Transportation","Meals","Other"]},yAxis:{type:"value"},series:[{name:"Placeholder",type:"bar",stack:"Total",itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:[0,1700,1400,1200,300,0]},{name:"Life Cost",type:"bar",stack:"Total",label:{show:!0,position:"inside"},data:[2900,1200,300,200,900,300]}]}]};e.exports={formSetting:{Input:{type:"text",placeholder:"请输入",value:"",debounce:300,prepend:{type:"string",value:""},append:{type:"string",value:""}},Select:{value:"",placeholder:"请选择"}},chartSetting:i,OtherSetting:{WangEdit:{value:"<p>请编辑</p>",placeholder:"请编辑"}}}}}]);