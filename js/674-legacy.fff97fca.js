(self["webpackChunkautopage"]=self["webpackChunkautopage"]||[]).push([[674],{5674:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return k}});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"df"},[o("LeftTool",{ref:"left",on:{setting:e.getSetting}}),e.drawer&&e.settingItem?o("div",{staticStyle:{width:"60%",height:"100%",position:"fixed"},on:{click:function(t){return e.open(!1)}}}):e._e(),o("div",{staticClass:"rightTool",class:{openRight:e.drawer},on:{click:function(t){return e.open(!0)}}},[e.settingItem&&"form"==e.type?o("el-form",{attrs:{model:e.settingItem.im.option}},e._l(e.options,(function(t){return o("el-form-item",{key:t.key,attrs:{label:t.title}},[o("Auto"+t.type,{tag:"component",on:{blur:e.blur},model:{value:t.option,callback:function(o){e.$set(t,"option",o)},expression:"im.option"}})],1)})),1):e._e(),e.settingItem&&"chart"===e.type?o("div",[o("ChartSetting",{ref:"chart",model:{value:e.settingItem.im.option,callback:function(t){e.$set(e.settingItem.im,"option",t)},expression:"settingItem.im.option"}})],1):e._e()],1)],1)},i=[];o(7941),o(2526),o(7327),o(1539),o(5003),o(4747),o(9337);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}o(1249);var l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"df main"},[o("div",{staticClass:"w200"},[o("h2",[e._v("表单组件")]),e._l(e.formTools,(function(t){return o("div",{key:t.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"1")}}},[e._v(" "+e._s(t.componentName)+" ")])})),o("h2",[e._v("图形组件")]),e._l(e.chartTools,(function(t){return o("div",{key:t.componentName,staticClass:"model",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"2")}}},[e._v(" "+e._s(t.componentName)+" ")])}))],2),o("div",{staticClass:"view",on:{drop:e.drop,dragover:function(e){e.preventDefault()},click:function(t){return e.settingOption(null)}}},[o("Row",{attrs:{gutter:20}},e._l(e.form,(function(t,n){return o("Col",{key:t.key,attrs:{span:Number(t.option.span)}},[o("AutoTool",{on:{option:function(o){return e.optionCom(o,n,t)}}}),o("div",{staticClass:"formItem",attrs:{draggable:""},on:{dragstart:function(o){return e.drag(t.componentName,"0",n)},click:function(o){return o.stopPropagation(),e.settingOption(t,n)}}},[o(e.computedName(t.name),{tag:"component",on:{blur:function(o){return e.settingOption(t,n)}},model:{value:t.option,callback:function(o){e.$set(t,"option",o)},expression:"im.option"}})],1)],1)})),1)],1)])},c=[],m=(o(8309),o(561),o(8862),o(6271)),p=o(3275),u=o(4549),f={name:"leftPage",props:{},data:function(){return{formTools:[{componentName:"Input",componentIcon:""},{componentName:"Select",componentIcon:""}],chartTools:[{componentName:"Sector",componentIcon:""},{componentName:"Histogram",componentIcon:""}],moveItem:null,form:[]}},components:{Row:u.Row,Col:u.Col},methods:{debounceFun:function(e,t){(0,m.debounce)(e,t)},throttleFun:function(e,t){(0,m.throttle)(e,t)},drag:function(e,t,o){this.moveItem={name:e,type:t,index:o}},computedName:function(e){return this.chartTools.some((function(t){return t.componentName===e}))?"AutoSector":"Auto"+e},drop:function(e){var t,o,n,i,r=e.pageY,a=e.pageX;if("1"===(null===(t=this.moveItem)||void 0===t?void 0:t.type)||"2"===(null===(o=this.moveItem)||void 0===o?void 0:o.type)){var l,c=this.moveItem,m=c.type,u=c.name;i="1"===m?p.formSetting:p.chartSetting,document.querySelectorAll(".formItem").forEach((function(e,t){var o=e.offsetTop,n=e.clientHeight,i=e.offsetLeft,s=e.clientWidth;o<=r&&o+n>r&&a>=i&&a<i+s?(o<=r&&r<o+.5*n&&(l=t),o+n>r&&r>=o+.5*n&&(l=t+1)):o<=r&&o+n>r&&a>=i+s&&(l=t+1)})),l>=0?this.form.splice(l,0,{name:u,type:"1"===m?"form":"chart",option:this.deepClone(s(s({},Array.isArray(i[this.moveItem.name])?i[this.moveItem.name][0]:i[this.moveItem.name]),{},{span:"1"===m?24:12})),key:(new Date).getTime()+l+""}):this.form.push({name:u,type:"1"===m?"form":"chart",option:this.deepClone(s(s({},Array.isArray(i[this.moveItem.name])?i[this.moveItem.name][0]:i[this.moveItem.name]),{},{span:"1"===m?24:12})),key:(new Date).getTime()+"-1"})}if("0"===(null===(n=this.moveItem)||void 0===n?void 0:n.type)){var f,h=0;document.querySelectorAll(".formItem").forEach((function(e,t){var o=e.offsetTop,n=e.clientHeight,i=e.offsetLeft,s=e.clientWidth;h++,o<=r&&r<o+n&&a>=i&&a<i+s?f=t:o<=r&&o+n>r&&a>=i+s&&(f=t+1)})),f=f>=0?f:h;var d=this.form[this.moveItem.index];this.form.splice(this.moveItem.index,1),this.moveItem.index>=f?this.form.splice(f,0,d):this.form.splice(f-1,0,d)}this.moveItem=null},settingOption:function(e,t){e?this.$emit("setting",{im:e,ix:t}):this.$emit("setting",null)},deepClone:function(e){return JSON.parse(JSON.stringify(e))},changeOption:function(e){this.form[e.ix]=e.im},optionCom:function(e,t,o){switch(e){case 0:this.up(t,-1);break;case 1:this.up(t,1);break;case 2:this.copy(t,o);break;case 3:this.delet(t);break;default:break}},up:function(e,t){if(!(t<0&&0===e||t>0&&e===this.form.length-1)){var o=this.form[e+t];this.form.splice(e+t,1),this.form.splice(e,0,o)}},delet:function(e){this.form.splice(e,1)},copy:function(e,t){var o=JSON.parse(JSON.stringify(t));o.key=(new Date).getTime()+e+"",this.form.splice(e+1,0,o)}},mounted:function(){},computed:{},watch:{}},h=f,d=o(1001),g=(0,d.Z)(h,l,c,!1,null,"1e99d759",null),y=g.exports,v=function(e){var t;switch(e){case"span":t={type:"Input",title:"宽度"};break;case"placeholder":t={type:"Input",title:"提示语"};break;case"title":t={type:"Input",title:"标题"};break;case"value":t={type:"Input",title:"值"};break;default:break}return t?s(s({},t),{},{key:e}):t},b={name:"autoForm",props:{},data:function(){return{settingItem:null,options:[],chart:["row"],drawer:!1,type:"form",direction:"rtl"}},components:{LeftTool:y},methods:{getSetting:function(e){var t=this;e?(this.options=[],this.settingItem=e,this.type=e.im.type,"form"===this.type&&Object.keys(e.im.option).map((function(o){var n=v(o);n&&t.options.push(s(s({},n),{},{option:{value:e.im.option[o]}}))}))):(this.settingItem=null,this.type="form")},blur:function(){var e=this.settingItem,t=this.options;t.map((function(t){var o=t.option,n=t.key;e.im.option[n]=o.value})),this.$refs.left.changeOption(e)},update:function(e){e&&(this.settingItem.im.option=e,this.$refs.left.changeOption(this.settingItem))},open:function(e){"form"!==this.type&&(this.drawer=e,e||this.update(this.$refs.chart.jsonUpdate()))}},mounted:function(){},computed:{},watch:{}},w=b,S=(0,d.Z)(w,n,i,!1,null,"5f65faa4",null),k=S.exports},9337:function(e,t,o){var n=o(2109),i=o(9781),r=o(3887),a=o(5656),s=o(1236),l=o(6135);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,o,n=a(e),i=s.f,c=r(n),m={},p=0;while(c.length>p)o=i(n,t=c[p++]),void 0!==o&&l(m,t,o);return m}})},3275:function(e,t,o){o(8309);var n=o(8522),i={Input:{type:"text",placeholder:"请输入",value:"",debounce:300,prepend:{type:"string",value:""},append:{type:"string",value:""}},Select:{value:"",placeholder:"请选择"}},r={Sector:[{title:{text:"Referer of a Website",subtext:"Fake Data",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"Access From",type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},{tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}]}],Histogram:[{color:["#80FFA5","#00DDFF","#37A2FF","#FF0087","#FFBF00"],title:{text:"Gradient Stacked Area Chart"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Line 1","Line 2","Line 3","Line 4","Line 5"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}],yAxis:[{type:"value"}],series:[{name:"Line 1",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(128, 255, 165)"},{offset:1,color:"rgb(1, 191, 236)"}])},emphasis:{focus:"series"},data:[140,232,101,264,90,340,250]},{name:"Line 2",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(0, 221, 255)"},{offset:1,color:"rgb(77, 119, 255)"}])},emphasis:{focus:"series"},data:[120,282,111,234,220,340,310]},{name:"Line 3",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(55, 162, 255)"},{offset:1,color:"rgb(116, 21, 219)"}])},emphasis:{focus:"series"},data:[320,132,201,334,190,130,220]},{name:"Line 4",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 0, 135)"},{offset:1,color:"rgb(135, 0, 157)"}])},emphasis:{focus:"series"},data:[220,402,231,134,190,230,120]},{name:"Line 5",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,label:{show:!0,position:"top"},areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 191, 0)"},{offset:1,color:"rgb(224, 62, 76)"}])},emphasis:{focus:"series"},data:[220,302,181,234,210,290,150]}]},{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110,130],type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]},{title:{text:"Waterfall Chart",subtext:"Living Expenses in Shenzhen"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[1];return t.name+"<br/>"+t.seriesName+" : "+t.value}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},data:["Total","Rent","Utilities","Transportation","Meals","Other"]},yAxis:{type:"value"},series:[{name:"Placeholder",type:"bar",stack:"Total",itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:[0,1700,1400,1200,300,0]},{name:"Life Cost",type:"bar",stack:"Total",label:{show:!0,position:"inside"},data:[2900,1200,300,200,900,300]}]}]};e.exports={formSetting:i,chartSetting:r}}}]);
//# sourceMappingURL=674-legacy.fff97fca.js.map